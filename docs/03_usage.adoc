== User guide


=== How to write a knowledge

TBD

=== How to use the Joshua API

Here an example of using Joshua API to solve the problem of "the farmer, the wolf, the goat and the cabbage".

[source, golang]
----
package main

import (
   "io/ioutil"
	"it/losangeles971/joshua/business/knowledge"
	"strings"
)

func main() {
   thefarmer, err := ioutil.ReadFile("thefarmer.joshua")
   if err != nil {
		panic(err)
	}
   s := knowledge.NewState()
	s.Add("Farmer_location", 0.0)
	s.Add("Wolf_location", 0.0)
	s.Add("Goat_location", 0.0)
	s.Add("Cabbage_location", 0.0)
	engine, err := knowledge.NewEngine(string(thefarmer), 100)
	if err != nil {
		panic(err)
	}
	solution := engine.IsItGoingToHappen(*s, "They are all on the est bank of the river")
	if solution.Err != nil {
		panic(err)
	}
	solution.PrintChain()
	solution.PrintSummary()
}
----

=== How to use the Joshua CLI

The CLI is really simple and it provides an help to understand the meaning of the available flags.

[source, shell]
----
$ ./joshua.exe --help
joshua

Usage:
  joshua [flags]

Flags:
  -d, --data string        initial state
  -h, --help               help for joshua
  -k, --knowledge string   knowledge file
  -m, --max-cycles int     maximum number of cycles (default 100) (default 100)
  -s, --success string     final event
----

Here an example to run Joshua over the problem of "the farmer, the wolf, the goat and the cabbage".

[source, shell]
----
$ ./joshua.exe -d .resources/thefarmer.yml -k .resources/thefarmer.joshua -s "They are all on the est bank of the river"
   Cycle|                                                          Cause|                                      Effect|               Outcome|
      13|   The farmer brings the cabbage to the ovest bank of the river|   They are all on the est bank of the river|   effect not happened|
       1|        The farmer brings the goat to the est bank of the river|   They are all on the est bank of the river|   effect not happened|
      22|      The farmer brings the goat to the ovest bank of the river|   They are all on the est bank of the river|   effect not happened|
       6|           The farmer comes back to the ovest bank of the river|   They are all on the est bank of the river|   effect not happened|
       7|     The farmer brings the cabbage to the est bank of the river|   They are all on the est bank of the river|   effect not happened|
      14|     The farmer brings the cabbage to the est bank of the river|   They are all on the est bank of the river|   effect not happened|
      16|        The farmer brings the wolf to the est bank of the river|   They are all on the est bank of the river|   effect not happened|
      23|     The farmer brings the cabbage to the est bank of the river|   They are all on the est bank of the river|   effect not happened|
      28|           The farmer comes back to the ovest bank of the river|   They are all on the est bank of the river|   effect not happened|
      30|        The farmer brings the goat to the est bank of the river|   They are all on the est bank of the river|                  true|
        Outcome|   true|
         Cycles|     30|
   Queue's size|     37|
----




