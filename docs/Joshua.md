<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# Joshua

```go
import "it/losangeles971/joshua"
```

main package of CLI implementation

## Index



# cmd

```go
import "it/losangeles971/joshua/cmd"
```

CLI implementation

## Index

- [func Execute()](<#func-execute>)


## func [Execute](<https://github.com/LosAngeles971/Joshua/blob/main/cmd/root.go#L47>)

```go
func Execute()
```

# knowledge

```go
import "it/losangeles971/joshua/business/knowledge"
```

This package exports the main functions of Joshua to the CLI and/or external programs\.

The main function is "IsItGoingToHappen":: Given an event\, named success event\, the function verifies it may happen starting from an initial state\.

An Event is something that can occur\. An event includes:

\- the name \- a list of premises in terms of temporary assignements \- a list of consequences in terms of assignements \- a list of consequences in terms of other events

From a cause/effect perspective\, a Event may be a casue and/or an effect\.

From model perspective a Event is the vertex of directed graph\, where the edges mean cause/effect relationships\.

Knowledge is a set of events and their relationships in terms of cause\-effect bindings\.

This file provides functions to handle a Stack\, that is a LIFO queue of Path\.

This file provides capabilities to handle states for Joshua programs\.

## Index

- [Constants](<#constants>)
- [type Assignment](<#type-assignment>)
  - [func NewAssignment(expr string) (Assignment, error)](<#func-newassignment>)
- [type Edge](<#type-edge>)
- [type Engine](<#type-engine>)
  - [func NewEngine(source string) (Engine, error)](<#func-newengine>)
  - [func (engine Engine) IsItGoingToHappen(state State, effect string) Solution](<#func-engine-isitgoingtohappen>)
- [type Event](<#type-event>)
  - [func Compile(source string) ([]*Event, error)](<#func-compile>)
  - [func NewEvent(id string, opts ...EventOption) *Event](<#func-newevent>)
  - [func (event *Event) AddAssigment(aa Assignment)](<#func-event-addassigment>)
  - [func (event *Event) AddCondition(cc *govaluate.EvaluableExpression)](<#func-event-addcondition>)
  - [func (event *Event) AddEffect(ee *Relationship)](<#func-event-addeffect>)
  - [func (event Event) CanYouCauseThis(effectEvent Event) bool](<#func-event-canyoucausethis>)
  - [func (e Event) GetWeightTo(effect *Event) float64](<#func-event-getweightto>)
  - [func (event Event) IsValid() error](<#func-event-isvalid>)
  - [func (f *Event) Run(input State) (string, State, error)](<#func-event-run>)
- [type EventOption](<#type-eventoption>)
  - [func WithAssignments(a []Assignment) EventOption](<#func-withassignments>)
  - [func WithConditions(c []*govaluate.EvaluableExpression) EventOption](<#func-withconditions>)
  - [func WithRelationships(r []*Relationship) EventOption](<#func-withrelationships>)
- [type Knowledge](<#type-knowledge>)
  - [func NewKnowledge(opts ...KnowledgeOption) (Knowledge, error)](<#func-newknowledge>)
  - [func (k Knowledge) CreateQueue(data State, effect *Event) Queue](<#func-knowledge-createqueue>)
  - [func (k Knowledge) GetAllPathsToEvent(effect *Event) []*Path](<#func-knowledge-getallpathstoevent>)
  - [func (u Knowledge) GetEvent(id string) (*Event, bool)](<#func-knowledge-getevent>)
  - [func (u Knowledge) WhoCause(targetEvent Event) []*Event](<#func-knowledge-whocause>)
- [type KnowledgeOption](<#type-knowledgeoption>)
  - [func WithEvents(ee []*Event) KnowledgeOption](<#func-withevents>)
  - [func WithMaxCycles(maxCycles int) KnowledgeOption](<#func-withmaxcycles>)
  - [func WithSource(source string) KnowledgeOption](<#func-withsource>)
- [type Path](<#type-path>)
- [type Queue](<#type-queue>)
  - [func (q *Queue) GetCycles() int](<#func-queue-getcycles>)
  - [func (q Queue) Save(filename string) error](<#func-queue-save>)
  - [func (q Queue) Serialize() (string, error)](<#func-queue-serialize>)
  - [func (q Queue) Size() int](<#func-queue-size>)
- [type Relationship](<#type-relationship>)
  - [func NewRelationship(name string, opts ...RelationshipOption) *Relationship](<#func-newrelationship>)
  - [func (r Relationship) GetWeight() float64](<#func-relationship-getweight>)
- [type RelationshipOption](<#type-relationshipoption>)
  - [func WithWeight(w float64) RelationshipOption](<#func-withweight>)
- [type Solution](<#type-solution>)
  - [func NewSolution(o string, q Queue, e error) Solution](<#func-newsolution>)
  - [func (s Solution) PrintChain()](<#func-solution-printchain>)
  - [func (s Solution) PrintFullChain()](<#func-solution-printfullchain>)
  - [func (s Solution) PrintSummary()](<#func-solution-printsummary>)
- [type Stack](<#type-stack>)
- [type State](<#type-state>)
  - [func NewState(opts ...StateOption) *State](<#func-newstate>)
  - [func (s State) Add(name string, value interface{}) error](<#func-state-add>)
  - [func (s State) AreDefined(vv []string) bool](<#func-state-aredefined>)
  - [func (s State) Clone() *State](<#func-state-clone>)
  - [func (s State) Get(name string) (interface{}, bool)](<#func-state-get>)
  - [func (child State) IsSubsetOf(father State) bool](<#func-state-issubsetof>)
  - [func (s State) Size() int](<#func-state-size>)
  - [func (s State) Translate() map[string]interface{}](<#func-state-translate>)
  - [func (s State) Update(name string, value interface{}) error](<#func-state-update>)
- [type StateOption](<#type-stateoption>)
  - [func WithJSON(filename string) StateOption](<#func-withjson>)
  - [func WithMap(mm map[string]interface{}) StateOption](<#func-withmap>)
  - [func WithYAML(filename string) StateOption](<#func-withyaml>)


## Constants

```go
const (
    EVENT_OUTCOME_TRUE    = "true"
    EVENT_OUTCOME_FALSE   = "false"
    EVENT_OUTCOME_UNKNOWN = "missing data"
    EVENT_OUTCOME_ERROR   = "error"

    EFFECT_OUTCOME_TRUE         = "true"
    EFFECT_OUTCOME_CAUSE_FALSE  = "cause not happened"
    EFFECT_OUTCOME_EFFECT_FALSE = "effect not happened"
    EFFECT_OUTCOME_UNKNOWN      = "missing data"
    EFFECT_OUTCOME_ERROR        = "error"
    EFFECT_OUTCOME_NULL         = "not verified yet"
    EFFECT_OUTCOME_LOOP         = "true but loop"
)
```

## type [Assignment](<https://github.com/LosAngeles971/Joshua/blob/main/business/knowledge/assignments.go#L10-L13>)

Assignment sets a value to a variabile\, as a consequence of the owner event's occurrence

```go
type Assignment struct {
    // contains filtered or unexported fields
}
```

### func [NewAssignment](<https://github.com/LosAngeles971/Joshua/blob/main/business/knowledge/assignments.go#L15>)

```go
func NewAssignment(expr string) (Assignment, error)
```

## type [Edge](<https://github.com/LosAngeles971/Joshua/blob/main/business/knowledge/graph.go#L13-L17>)

An edge is a direct connection between two events\, the source is the "cause" event and the target is the "effect" event\.

```go
type Edge struct {
    Cause   *Event `yaml:"cause"`
    Effect  *Event `yaml:"effect"`
    Outcome string
}
```

## type [Engine](<https://github.com/LosAngeles971/Joshua/blob/main/business/knowledge/engine.go#L22-L24>)

```go
type Engine struct {
    // contains filtered or unexported fields
}
```

### func [NewEngine](<https://github.com/LosAngeles971/Joshua/blob/main/business/knowledge/engine.go#L26>)

```go
func NewEngine(source string) (Engine, error)
```

### func \(Engine\) [IsItGoingToHappen](<https://github.com/LosAngeles971/Joshua/blob/main/business/knowledge/engine.go#L79>)

```go
func (engine Engine) IsItGoingToHappen(state State, effect string) Solution
```

IsItGoingToHappen exports the internal function isItGoingToHappen

## type [Event](<https://github.com/LosAngeles971/Joshua/blob/main/business/knowledge/events.go#L39-L44>)

Event includes all attribute of an event

```go
type Event struct {
    ID string `yaml:"id"`
    // contains filtered or unexported fields
}
```

### func [Compile](<https://github.com/LosAngeles971/Joshua/blob/main/business/knowledge/compiler.go#L110>)

```go
func Compile(source string) ([]*Event, error)
```

### func [NewEvent](<https://github.com/LosAngeles971/Joshua/blob/main/business/knowledge/events.go#L66>)

```go
func NewEvent(id string, opts ...EventOption) *Event
```

### func \(\*Event\) [AddAssigment](<https://github.com/LosAngeles971/Joshua/blob/main/business/knowledge/events.go#L83>)

```go
func (event *Event) AddAssigment(aa Assignment)
```

### func \(\*Event\) [AddCondition](<https://github.com/LosAngeles971/Joshua/blob/main/business/knowledge/events.go#L79>)

```go
func (event *Event) AddCondition(cc *govaluate.EvaluableExpression)
```

### func \(\*Event\) [AddEffect](<https://github.com/LosAngeles971/Joshua/blob/main/business/knowledge/events.go#L87>)

```go
func (event *Event) AddEffect(ee *Relationship)
```

### func \(Event\) [CanYouCauseThis](<https://github.com/LosAngeles971/Joshua/blob/main/business/knowledge/events.go#L145>)

```go
func (event Event) CanYouCauseThis(effectEvent Event) bool
```

CanYouCauseThis returns true if the event can cause the given effect event

### func \(Event\) [GetWeightTo](<https://github.com/LosAngeles971/Joshua/blob/main/business/knowledge/events.go#L96>)

```go
func (e Event) GetWeightTo(effect *Event) float64
```

GetWeightTo returns the weight of a specific cause\-effect\, between the cause and the given effect \(if the link exists\)

### func \(Event\) [IsValid](<https://github.com/LosAngeles971/Joshua/blob/main/business/knowledge/events.go#L135>)

```go
func (event Event) IsValid() error
```

IsValid returns false if the event does not have resolved effects

### func \(\*Event\) [Run](<https://github.com/LosAngeles971/Joshua/blob/main/business/knowledge/events.go#L155>)

```go
func (f *Event) Run(input State) (string, State, error)
```

Run executes event's assignements if the event's conditions are all true

## type [EventOption](<https://github.com/LosAngeles971/Joshua/blob/main/business/knowledge/events.go#L46>)

```go
type EventOption func(*Event)
```

### func [WithAssignments](<https://github.com/LosAngeles971/Joshua/blob/main/business/knowledge/events.go#L54>)

```go
func WithAssignments(a []Assignment) EventOption
```

### func [WithConditions](<https://github.com/LosAngeles971/Joshua/blob/main/business/knowledge/events.go#L48>)

```go
func WithConditions(c []*govaluate.EvaluableExpression) EventOption
```

### func [WithRelationships](<https://github.com/LosAngeles971/Joshua/blob/main/business/knowledge/events.go#L60>)

```go
func WithRelationships(r []*Relationship) EventOption
```

## type [Knowledge](<https://github.com/LosAngeles971/Joshua/blob/main/business/knowledge/knowledge.go#L12-L15>)

```go
type Knowledge struct {
    // contains filtered or unexported fields
}
```

### func [NewKnowledge](<https://github.com/LosAngeles971/Joshua/blob/main/business/knowledge/knowledge.go#L47>)

```go
func NewKnowledge(opts ...KnowledgeOption) (Knowledge, error)
```

### func \(Knowledge\) [CreateQueue](<https://github.com/LosAngeles971/Joshua/blob/main/business/knowledge/knowledge.go#L101>)

```go
func (k Knowledge) CreateQueue(data State, effect *Event) Queue
```

This function creates a Queue containing all possibile paths to the given event

### func \(Knowledge\) [GetAllPathsToEvent](<https://github.com/LosAngeles971/Joshua/blob/main/business/knowledge/knowledge.go#L82>)

```go
func (k Knowledge) GetAllPathsToEvent(effect *Event) []*Path
```

This method returns all possibile paths \(given a Knowledge\) that end to the given event\.

### func \(Knowledge\) [GetEvent](<https://github.com/LosAngeles971/Joshua/blob/main/business/knowledge/knowledge.go#L61>)

```go
func (u Knowledge) GetEvent(id string) (*Event, bool)
```

getEvent returns the event with the given id if it exists into the knowledge

### func \(Knowledge\) [WhoCause](<https://github.com/LosAngeles971/Joshua/blob/main/business/knowledge/knowledge.go#L71>)

```go
func (u Knowledge) WhoCause(targetEvent Event) []*Event
```

return the list of events that are cause of the given event

## type [KnowledgeOption](<https://github.com/LosAngeles971/Joshua/blob/main/business/knowledge/knowledge.go#L17>)

```go
type KnowledgeOption func(*Knowledge) error
```

### func [WithEvents](<https://github.com/LosAngeles971/Joshua/blob/main/business/knowledge/knowledge.go#L30>)

```go
func WithEvents(ee []*Event) KnowledgeOption
```

### func [WithMaxCycles](<https://github.com/LosAngeles971/Joshua/blob/main/business/knowledge/knowledge.go#L40>)

```go
func WithMaxCycles(maxCycles int) KnowledgeOption
```

### func [WithSource](<https://github.com/LosAngeles971/Joshua/blob/main/business/knowledge/knowledge.go#L19>)

```go
func WithSource(source string) KnowledgeOption
```

## type [Path](<https://github.com/LosAngeles971/Joshua/blob/main/business/knowledge/graph.go#L64-L72>)

Path is a concatenation of edges\, aka it is a chain of events tied by cause\-effect relationshiop

```go
type Path struct {
    Path     []*Edge `yaml:"path"`
    Executed bool    `yaml:"executed"`
    Input    State   `yaml:"input"`
    Output   State   `yaml:"output"`
    Outcome  string  `yaml:"outcome"`
    Changed  bool    `yaml:"changed"`
    Cycle    int     `yaml:"cycle"`
}
```

## type [Queue](<https://github.com/LosAngeles971/Joshua/blob/main/business/knowledge/queue.go#L11-L13>)

```go
type Queue struct {
    Paths []*Path `yaml:"queue"`
}
```

### func \(\*Queue\) [GetCycles](<https://github.com/LosAngeles971/Joshua/blob/main/business/knowledge/queue.go#L94>)

```go
func (q *Queue) GetCycles() int
```

This function returns the number of cycles executed by the engine

### func \(Queue\) [Save](<https://github.com/LosAngeles971/Joshua/blob/main/business/knowledge/queue.go#L41>)

```go
func (q Queue) Save(filename string) error
```

This method serialize a queue of paths into a yaml\. At the end of the reasoning process\, the queue represents the found solution\, thus this method can be used to save the solution as yaml file\.

### func \(Queue\) [Serialize](<https://github.com/LosAngeles971/Joshua/blob/main/business/knowledge/queue.go#L17>)

```go
func (q Queue) Serialize() (string, error)
```

Serialize creates a YAML representation of the queue This method is useful to print the final queue\, the latter explains the reasoning

### func \(Queue\) [Size](<https://github.com/LosAngeles971/Joshua/blob/main/business/knowledge/queue.go#L51>)

```go
func (q Queue) Size() int
```

Size returns the number of Paths into the Queue

## type [Relationship](<https://github.com/LosAngeles971/Joshua/blob/main/business/knowledge/relationships.go#L4-L8>)

A relationship represents the cause\-effect binding between two events

```go
type Relationship struct {
    Name   string  // name of the effect's event
    Weight float64 // if the cause's event occurr there is a "weight" probability that the effect occurs
    Effect *Event  // effect's event
}
```

### func [NewRelationship](<https://github.com/LosAngeles971/Joshua/blob/main/business/knowledge/relationships.go#L18>)

```go
func NewRelationship(name string, opts ...RelationshipOption) *Relationship
```

### func \(Relationship\) [GetWeight](<https://github.com/LosAngeles971/Joshua/blob/main/business/knowledge/relationships.go#L29>)

```go
func (r Relationship) GetWeight() float64
```

## type [RelationshipOption](<https://github.com/LosAngeles971/Joshua/blob/main/business/knowledge/relationships.go#L10>)

```go
type RelationshipOption func(*Relationship)
```

### func [WithWeight](<https://github.com/LosAngeles971/Joshua/blob/main/business/knowledge/relationships.go#L12>)

```go
func WithWeight(w float64) RelationshipOption
```

## type [Solution](<https://github.com/LosAngeles971/Joshua/blob/main/business/knowledge/engine.go#L16-L20>)

```go
type Solution struct {
    Outcome string
    Chain   Queue
    Err     error
}
```

### func [NewSolution](<https://github.com/LosAngeles971/Joshua/blob/main/business/knowledge/engine.go#L36>)

```go
func NewSolution(o string, q Queue, e error) Solution
```

### func \(Solution\) [PrintChain](<https://github.com/LosAngeles971/Joshua/blob/main/business/knowledge/engine.go#L63>)

```go
func (s Solution) PrintChain()
```

### func \(Solution\) [PrintFullChain](<https://github.com/LosAngeles971/Joshua/blob/main/business/knowledge/engine.go#L54>)

```go
func (s Solution) PrintFullChain()
```

### func \(Solution\) [PrintSummary](<https://github.com/LosAngeles971/Joshua/blob/main/business/knowledge/engine.go#L45>)

```go
func (s Solution) PrintSummary()
```

PrintSummary prints the results of an execution to the console \(standard output\)

## type [Stack](<https://github.com/LosAngeles971/Joshua/blob/main/business/knowledge/stack.go#L8>)

```go
type Stack []*Path
```

## type [State](<https://github.com/LosAngeles971/Joshua/blob/main/business/knowledge/state.go#L15-L17>)

A state is a map of values\.

```go
type State struct {
    Vars map[string]interface{} `yaml:"vars"`
}
```

### func [NewState](<https://github.com/LosAngeles971/Joshua/blob/main/business/knowledge/state.go#L61>)

```go
func NewState(opts ...StateOption) *State
```

Create a new state

### func \(State\) [Add](<https://github.com/LosAngeles971/Joshua/blob/main/business/knowledge/state.go#L71>)

```go
func (s State) Add(name string, value interface{}) error
```

### func \(State\) [AreDefined](<https://github.com/LosAngeles971/Joshua/blob/main/business/knowledge/state.go#L121>)

```go
func (s State) AreDefined(vv []string) bool
```

### func \(State\) [Clone](<https://github.com/LosAngeles971/Joshua/blob/main/business/knowledge/state.go#L108>)

```go
func (s State) Clone() *State
```

### func \(State\) [Get](<https://github.com/LosAngeles971/Joshua/blob/main/business/knowledge/state.go#L85>)

```go
func (s State) Get(name string) (interface{}, bool)
```

### func \(State\) [IsSubsetOf](<https://github.com/LosAngeles971/Joshua/blob/main/business/knowledge/state.go#L91>)

```go
func (child State) IsSubsetOf(father State) bool
```

IsSubsetOf checks if the state is a subset of the given state

### func \(State\) [Size](<https://github.com/LosAngeles971/Joshua/blob/main/business/knowledge/state.go#L104>)

```go
func (s State) Size() int
```

### func \(State\) [Translate](<https://github.com/LosAngeles971/Joshua/blob/main/business/knowledge/state.go#L117>)

```go
func (s State) Translate() map[string]interface{}
```

Translate converts the state into a map

### func \(State\) [Update](<https://github.com/LosAngeles971/Joshua/blob/main/business/knowledge/state.go#L81>)

```go
func (s State) Update(name string, value interface{}) error
```

## type [StateOption](<https://github.com/LosAngeles971/Joshua/blob/main/business/knowledge/state.go#L19>)

```go
type StateOption func(*State)
```

### func [WithJSON](<https://github.com/LosAngeles971/Joshua/blob/main/business/knowledge/state.go#L37>)

```go
func WithJSON(filename string) StateOption
```

WithJSON loads the state from a YAML file

### func [WithMap](<https://github.com/LosAngeles971/Joshua/blob/main/business/knowledge/state.go#L52>)

```go
func WithMap(mm map[string]interface{}) StateOption
```

WithMap loads the state from a given map

### func [WithYAML](<https://github.com/LosAngeles971/Joshua/blob/main/business/knowledge/state.go#L22>)

```go
func WithYAML(filename string) StateOption
```

WithYAML loads the state from a YAML file

# math

```go
import "it/losangeles971/joshua/business/math"
```

This file provides helpers for the math capabilities used into event definitions\.\.

## Index

- [Variables](<#variables>)
- [func NewAssignment(assignemnt string) (string, *govaluate.EvaluableExpression, error)](<#func-newassignment>)
- [func NewExpression(e string) (*govaluate.EvaluableExpression, error)](<#func-newexpression>)


## Variables

Functions includes additional functions usable within mathematical expressions

```go
var Functions = map[string]govaluate.ExpressionFunction{
    "min": func(args ...interface{}) (interface{}, error) {
        min := 0.0
        for i := 0; i < len(args); i++ {
            switch args[i].(type) {
            case int:
                v := float64(args[i].(int))
                if i == 0 {
                    min = v
                } else {
                    if v < min {
                        min = v
                    }
                }
            case float64:
                v := args[i].(float64)
                if i == 0 {
                    min = v
                } else {
                    if v < min {
                        min = v
                    }
                }
            default:
                return min, errors.New("not numerical inputs")
            }
        }
        return min, nil
    },
    "max": func(args ...interface{}) (interface{}, error) {
        max := 0.0
        for i := 0; i < len(args); i++ {
            switch args[i].(type) {
            case int:
                v := float64(args[i].(int))
                if i == 0 {
                    max = v
                } else {
                    if v > max {
                        max = v
                    }
                }
            case float64:
                v := args[i].(float64)
                if i == 0 {
                    max = v
                } else {
                    if v > max {
                        max = v
                    }
                }
            default:
                return max, errors.New("not numerical inputs")
            }
        }
        return max, nil
    },
}
```

## func [NewAssignment](<https://github.com/LosAngeles971/Joshua/blob/main/business/math/math.go#L108>)

```go
func NewAssignment(assignemnt string) (string, *govaluate.EvaluableExpression, error)
```

ParseAssignment runs an assignment of a variable\, returning: \- the target variable \- the parsed expression \- the possible error

## func [NewExpression](<https://github.com/LosAngeles971/Joshua/blob/main/business/math/math.go#L87>)

```go
func NewExpression(e string) (*govaluate.EvaluableExpression, error)
```

NewExpression returns the object representing a parsed mathematical expression

# parser

```go
import "it/losangeles971/joshua/business/parser"
```

## Index

- [type EventCode](<#type-eventcode>)
  - [func (code EventCode) GetAssignments() []string](<#func-eventcode-getassignments>)
  - [func (code EventCode) GetConditions() []string](<#func-eventcode-getconditions>)
  - [func (code EventCode) GetEffects() []string](<#func-eventcode-geteffects>)
  - [func (code EventCode) Name() string](<#func-eventcode-name>)
- [type FSM](<#type-fsm>)
- [type Lexer](<#type-lexer>)
- [type Parser](<#type-parser>)
  - [func NewParser(l *Lexer) (*Parser, error)](<#func-newparser>)
  - [func (p *Parser) Parse() ([]*EventCode, error)](<#func-parser-parse>)
- [type Scanner](<#type-scanner>)
  - [func NewScanner(source string) (*Scanner, error)](<#func-newscanner>)
  - [func (s *Scanner) Run() (*Lexer, error)](<#func-scanner-run>)
- [type Token](<#type-token>)
- [type Transition](<#type-transition>)


## type [EventCode](<https://github.com/LosAngeles971/Joshua/blob/main/business/parser/parser.go#L13-L18>)

```go
type EventCode struct {
    // contains filtered or unexported fields
}
```

### func \(EventCode\) [GetAssignments](<https://github.com/LosAngeles971/Joshua/blob/main/business/parser/parser.go#L28>)

```go
func (code EventCode) GetAssignments() []string
```

### func \(EventCode\) [GetConditions](<https://github.com/LosAngeles971/Joshua/blob/main/business/parser/parser.go#L24>)

```go
func (code EventCode) GetConditions() []string
```

### func \(EventCode\) [GetEffects](<https://github.com/LosAngeles971/Joshua/blob/main/business/parser/parser.go#L32>)

```go
func (code EventCode) GetEffects() []string
```

### func \(EventCode\) [Name](<https://github.com/LosAngeles971/Joshua/blob/main/business/parser/parser.go#L20>)

```go
func (code EventCode) Name() string
```

## type [FSM](<https://github.com/LosAngeles971/Joshua/blob/main/business/parser/fsm.go#L20-L23>)

FSM is a really simple deterministic finite\-state\-machine there is one FSM for each Joshua's atomic block of code

```go
type FSM struct {
    ID          string       `yaml:"id"`
    Transitions []Transition `yaml:"transitions"`
}
```

## type [Lexer](<https://github.com/LosAngeles971/Joshua/blob/main/business/parser/lexer.go#L11-L14>)

Lexer is the result of a source's scanning It is a ordinated list of tokens and it provides functions for browsing

```go
type Lexer struct {
    // contains filtered or unexported fields
}
```

## type [Parser](<https://github.com/LosAngeles971/Joshua/blob/main/business/parser/parser.go#L36-L40>)

```go
type Parser struct {
    Lib []FSM `yaml:"automata"`
    // contains filtered or unexported fields
}
```

### func [NewParser](<https://github.com/LosAngeles971/Joshua/blob/main/business/parser/parser.go#L42>)

```go
func NewParser(l *Lexer) (*Parser, error)
```

### func \(\*Parser\) [Parse](<https://github.com/LosAngeles971/Joshua/blob/main/business/parser/parser.go#L162>)

```go
func (p *Parser) Parse() ([]*EventCode, error)
```

## type [Scanner](<https://github.com/LosAngeles971/Joshua/blob/main/business/parser/scanner.go#L83-L86>)

Scanner is a lexical scanner\.

```go
type Scanner struct {
    // contains filtered or unexported fields
}
```

### func [NewScanner](<https://github.com/LosAngeles971/Joshua/blob/main/business/parser/scanner.go#L88>)

```go
func NewScanner(source string) (*Scanner, error)
```

### func \(\*Scanner\) [Run](<https://github.com/LosAngeles971/Joshua/blob/main/business/parser/scanner.go#L203>)

```go
func (s *Scanner) Run() (*Lexer, error)
```

run scans the source code and returns a Lexer object\.

## type [Token](<https://github.com/LosAngeles971/Joshua/blob/main/business/parser/scanner.go#L76-L80>)

Token declares id and value of recognized tokens\. Note that value is used only for text tokens\.

```go
type Token struct {
    // contains filtered or unexported fields
}
```

## type [Transition](<https://github.com/LosAngeles971/Joshua/blob/main/business/parser/fsm.go#L11-L16>)

Transition describes a possible transition from one state to the next one

```go
type Transition struct {
    Action string `yaml:"action"` // the Action can be a "token" or a "call" to a sub-process based on another FSM
    Token  string `yaml:"token"`  // the expected token, if the Action is "token"
    Sub    string `yaml:"sub"`    // the sub-process name, if the Action is "call"
    Min    int    `yaml:"min"`    // the minimum occorrences of the sub-process, if the Action is "call"
}
```



Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
