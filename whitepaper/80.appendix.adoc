== Appendice

=== Il contadino, il lupo, la capra e il cavolo

The knowledge file.

[source, yaml]
----
---
  events:
    - id: The farmer, the wolf, the goat and the cabbage are on the bank B of the river
      statements:
        - FarmerB == 1
        - WolfB == 1
        - GoatB == 1
        - CabbageB == 1

    - id: The farmer brings the cabbage on the bank B of the river
      statements:
        - FarmerA == 1
        - CabbageA == 1
        - ((WolfA < 1) && (GoatA == 1)) || ((WolfA == 1) && (GoatA < 1))
      assignments:
        - FarmerB = 1
        - CabbageB = 1
        - FarmerA = 0
        - CabbageA = 0

    - id: The farmer brings the cabbage on the bank A of the river
      statements:
        - FarmerB == 1
        - CabbageB == 1
        - ((WolfB < 1) && (GoatB == 1)) || ((WolfB == 1) && (GoatB < 1))
      assignments:
        - FarmerA = 1
        - CabbageA = 1
        - FarmerB = 0
        - CabbageB = 0
    
    - id: The farmer brings the goat on the bank B of the river
      statements:
        - FarmerA == 1
        - GoatA == 1
      assignments:
        - FarmerB = 1
        - GoatB = 1
        - FarmerA = 0
        - GoatA = 0

    - id: The farmer brings the goat on the bank A of the river
      statements:
        - FarmerB == 1
        - GoatB == 1
      assignments:
        - FarmerA = 1
        - GoatA = 1
        - FarmerB = 0
        - GoatB = 0

    - id: The farmer brings the wolf on the bank B of the river
      statements:
        - FarmerA == 1
        - WolfA == 1
        - ((CabbageA < 1) && (GoatA == 1)) || ((CabbageA == 1) && (GoatA < 1))
      assignments:
        - FarmerB = 1
        - WolfB = 1
        - FarmerA = 0
        - WolfA = 0

    - id: The farmer brings the wolf on the bank A of the river
      statements:
        - FarmerB == 1
        - WolfB == 1
        - ((CabbageB < 1) && (GoatB == 1)) || (CabbageB == 1) && (GoatB < 1))
      assignments:
        - FarmerA = 1
        - WolfA = 1
        - FarmerB = 0
        - WolfB = 0

    - id: The farmer goes to the bank A of the river
      statements:
        - FarmerB == 1
        - WolfB == 1 || CabbageA == 1 || GoatA == 1
        - CabbageB == 1 || WolfA == 1 || GoatA == 1
        - WolfA == 1 || CabbageA == 1 || GoatA == 1
      assignments:
        - FarmerA = 1
        - FarmerB = 0
    
    - id: The farmer goes to the bank B of the river
      statements:
        - FarmerA == 1
        - WolfA == 1 || CabbageB == 1 || GoatB == 1
        - CabbageA == 1 || WolfB == 1 || GoatB == 1
        - WolfB == 1 || CabbageB == 1 || GoatB == 1
      assignments:
        - FarmerB = 1
        - FarmerA = 0

  links:
    - type: 0.5
      cause:
        - The farmer brings the cabbage on the bank B of the river
      effect:
        - The farmer, the wolf, the goat and the cabbage are on the bank B of the river

    - type: 0.5
      cause:
        - The farmer brings the goat on the bank B of the river
      effect:
        - The farmer, the wolf, the goat and the cabbage are on the bank B of the river

    - type: 0.5
      cause:
        - The farmer brings the wolf on the bank B of the river
      effect:
        - The farmer, the wolf, the goat and the cabbage are on the bank B of the river

    - type: 0.1
      cause:
        - The farmer brings the cabbage on the bank A of the river
      effect:
        - The farmer, the wolf, the goat and the cabbage are on the bank B of the river

    - type: 0.1
      cause:
        - The farmer brings the goat on the bank A of the river
      effect:
        - The farmer, the wolf, the goat and the cabbage are on the bank B of the river

    - type: 0.1
      cause:
        - The farmer brings the wolf on the bank A of the river
      effect:
        - The farmer, the wolf, the goat and the cabbage are on the bank B of the river

    - type: 0.3
      cause:
        - The farmer goes to the bank A of the river
      effect:
        - The farmer, the wolf, the goat and the cabbage are on the bank B of the river
        
    - type: 0.5
      cause:
        - The farmer goes to the bank B of the river
      effect:
        - The farmer, the wolf, the goat and the cabbage are on the bank B of the river
----

The state file.

[source, yaml]
----
---
  variables:
    - name: FarmerA
      value: 1.0
    - name: FarmerB
      value: 0.0
    - name: WolfA
      value: 1.0
    - name: WolfB
      value: 0.0
    - name: GoatA
      value: 1.0
    - name: GoatB
      value: 0.0
    - name: CabbageA
      value: 1.0
    - name: CabbageB
      value: 0.0
  success: "The farmer, the wolf, the goat and the cabbage are on the bank B of the river"
----

== The heritage

The knowledge file.

[source, yaml]
----
---
  events:
    - id: One day of spending
      statements:
        - Inheritance > 1.0
    - id: The inheritance is halved
      assignments:
        - Inheritance = Inheritance / 2
    - id: He has less than 1 euro
      statements:
        - Inheritance < 1.0

  links:
    - type: 1.0
      cause:
        - One day of spending
      effect:
        - The inheritance is halved

    - type: 0.5
      cause:
        - One day of spending
      effect:
        - He has less than 1 euro

    - type: 0.5
      cause:
        - The inheritance is halved
      effect:
        - He has less than 1 euro
----

The state file.

[source, yaml]
----
---
  variables:
    - name: Inheritance
      value: 1024
  success: "He has less than 1 euro"
----

=== The water containers

The knowledge file.

[source, yaml]
----
---
  events:
    - id: Empty C in A
      statements:
        - C > 0
      assignments:
        - DeltaA = MaxA - A
        - SubC = min(C, DeltaA)
        - C = C - SubC
        - A = A + SubC

    - id: Empty C in B
      statements:
        - C > 0
      assignments:
        - DeltaB = MaxB - B
        - SubC = min(C, DeltaB)
        - C = C - SubC
        - B = B + SubC

    - id: Empty A in B
      statements:
        - A > 0
      assignments:
        - DeltaB = MaxB - B
        - SubA = min(A, DeltaB)
        - A = A - SubA
        - B = B + SubA

    - id: Empty A in C
      statements:
        - A > 0
      assignments:
        - DeltaC = MaxC - C
        - SubA = min(A, DeltaC)
        - A = A - SubA
        - C = C + SubA        

    - id: Empty B in A
      statements:
        - B > 0
      assignments:
        - DeltaA = MaxA - A
        - SubB = min(B, DeltaA)
        - B = B - SubB
        - A = A + SubB

    - id: Empty B in C
      statements:
        - B > 0
      assignments:
        - DeltaC = MaxC - C
        - SubB = min(B, DeltaC)
        - B = B - SubB
        - C = C + SubC

    - id: B o C contiene 4
      statements:
        - B == 4 || C == 4

  links:
    - type: 0.5
      cause:
        - Empty C in A
      effect:
        - B or C contains 4

    - type: 0.5
      cause:
        - Empty C in B
      effect:
        - B or C contains 4

    - type: 0.5
      cause:
        - Empty A in B
      effect:
        - B or C contains 4

    - type: 0.5
      cause:
        - Empty A in C
      effect:
        - B or C contains 4       

    - type: 0.5
      cause:
        - Empty B in A
      effect:
        - B or C contains 4
    - type: 0.5

      cause:
        - Empty B in C
      effect:
        - B or C contains 4
----

The state file.

[source, yaml]
----
---
  variables:
    - name: A
      value: 0
    - name: B
      value: 0
    - name: C
      value: 8
    - name: MaxA
      value: 3
    - name: MaxB
      value: 5
    - name: MaxC
      value: 8
    - name: DeltaA
      value: 0
    - name: DeltaB
      value: 0
    - name: DeltaC
      value: 0
    - name: SubA
      value: 0
    - name: SubB
      value: 0
    - name: SubC
      value: 0
  success: "B or C contains 4"
----